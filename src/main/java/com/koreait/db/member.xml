<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
	
	<!-- 민우님 로그인 시작 -->
	<select resultType="int" parameterType="String" id="kakaoCheck">select count(m_idx) from tb_member where m_kakaoemail=#{m_kakaoemail} </select>

	<select resultType="int" parameterType="String" id="naverCheck">select count(m_idx) from tb_member where m_naveremail=#{m_naveremail} </select>
	
	<select resultType="int" parameterType="String" id="phoneCheck">select count(m_idx) from tb_member where m_hp=#{m_hp} and m_username=#{m_username} </select>
	
	<select resultType="int" parameterType="String" id="duplicate">select count(m_idx) from tb_member where m_hp=#{m_hp}</select>
	
	<insert parameterType="map" id="join">insert into tb_member (m_username, m_naveremail, m_kakaoemail, m_ssn1, m_ssn2, m_hp) values (#{m_username}, #{m_naveremail}, #{m_kakaoemail}, #{m_ssn1}, #{m_ssn2}, #{m_hp}) </insert>
	
	<select resultType="map" parameterType="map" id="kakaologin">select m_idx, m_username from tb_member where m_kakaoemail=#{m_kakaoemail} </select>
	
	<select resultType="map" parameterType="map" id="naverlogin">select m_idx, m_username from tb_member where m_naveremail=#{m_naveremail} </select>
	
	<select resultType="map" parameterType="map" id="phonelogin">select m_idx, m_username from tb_member where m_hp=#{m_hp} </select>
	
	<update parameterType="map" id="emailjoin">update tb_member set m_kakaoemail= #{m_kakaoemail} where m_hp= #{m_hp}</update>
	<!-- 민우님 로그인 끝 -->

	<!-- 누구꺼지  -->
	<select id="meminfo" parameterType="map" resultType="map">
		select * from tb_member where m_idx=#{m_idx}
	</select>
</mapper>